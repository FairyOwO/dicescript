## 更新记录

#### 2024.6.18
* round ceil floor 允许输入int类型
* 加入新函数load用于动态载入变量
* 重新整理文档

#### 2024.6.16
* 重写了字符串解析并修复换行和换行转义混用解析错误的bug
* 计算类型内部储存的值现在支持被序列化

#### 2024.6.11
* 字符串模板中的 {% %} 不再输出内容
* 字符串模板 {} 报错优化
* 计算过程信息进行算符标注
* 优化值读写钩子接口

#### 2024.6.8
* 赋值语句调整为表达式，这意味着能够在字符串模板中使用
* 赋值语句取值后不再从栈中弹出值
* 新增报错信息优化方案

#### 2024.6.5
* 随机种子设置，序列化和反序列
* 计算过程文本可以自定义了
* 计算过程文本的生成函数进行了分离，现在只在GetDetailText被调用时生成
* 将解析和执行分成两个阶段，可以分别单独调用
* 现在能够检查生成的字节码是否进行了骰点运算，这在部分指令中很有用

#### 2024.6.3
* 修改API，新建变量更为简洁
* 移除了undefined
* 修复了ToJSON的一个bug

#### 2024.5.12
* 使用 [自己修改的 pigeon](https://github.com/fy0/pigeon) 重构语法解析

#### 2023.9.15
* NativeObject 一种用于绑定Go对象的类型，行为类似于dict
* 为字典类型增加了 keys() values() items() 方法
* dir 函数，和python的dir函数类似，用于获取对象的所有属性

#### 2023.10.22
* 空值合并算符
* 文档调整

#### 2022.11.29

* 逻辑与/逻辑或/按位与/按位或
* 补全测试用例
* 编写文档

#### 2022.11.28

* Fate/WoD/DoubleCross 相关算符
* 计算过程完善


#### 2022.11.24

* 内置函数支持默认参数
* 简易原型链机制


#### 2022.11.23

* 计算过程显示


#### 2022.11.20

* 字典类型


#### 2022.11.18

* 变量作用域


#### 2022.9.17

* 序列化和反序列化: array native_function，全类型完成


#### 2022.9.12

* 内置函数: ceil floor round int float str
* 序列化和反序列化: int float str undefined null computed function


#### 2022.9.10

* 分片赋值，以及取值语法，支持array和str
* range语法 \[0..2] 为 \[0,1,2]，\[3..1] 为 \[3,2,1]

#### 2022.9.8

* while 语法
* return 语法
* 数组下标赋值
* 线程安全优化
* 现在可以使用 true / false 其值为 1 / 0
* break / continue 支持

#### 2022.9.4

* 多维数组
* computed 计算类型
* function 函数类型

#### 2022.9.3

* if else 语句
* undefined 类型
* a == 1 ? 1 : 2 三目运算符
* a == 1 ? 'A', a == 2 ? 'B', a == 3 : 'C'
* 一元算符 +1 -1
* 数组
* 数组下标
* fvtt语法: \[1,2,3]kh   \[1,2,3]kl

#### 2022.9.2

* 支持浮点数
* 支持字符串
* 支持变量
* RollVM的测试覆盖率提升至95%
* 能够编译到JS

#### 2022.9.1

* 数学和逻辑算符全类型支持(除computed和array之外)
* 初步的单元测试
* 异常机制
* 接口调整
* 实现了d算符
* 实现d算符语法，d20k / d20q / d20kh / d20hl / d20d / d20dl / d20dh

#### 2022.8.30

* 二元算符框架(+-*/等)
* 支持数学四则运算
* 支持比较算符(< <= == != > >=)

#### 2022.8.29

* 指令执行初步架构
* VM接口
* 简易REPL

#### 2022.8.25

* 建项目，初步文法
